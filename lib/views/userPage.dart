import 'package:flutter/material.dart';
import 'package:flutter_svg/svg.dart';
import 'package:provider/provider.dart';
import 'package:shared_preferences/shared_preferences.dart';

import '../component/centerAppbar.dart';
import '../stateManage/stateManage.dart';
// import '../临时文件/原版登录界面.dart';
import 'chooseLoginPage.dart';

class UserPage extends StatefulWidget {
  const UserPage({super.key});

  @override
  State<UserPage> createState() => _BottomNavigationBarExampleState();
}

class _BottomNavigationBarExampleState extends State<UserPage> {
  @override
  Widget build(BuildContext context) {
    double maxHeight = MediaQuery.of(context).size.height;
    double maxWidth = MediaQuery.of(context).size.width;
    final authProvider = Provider.of<AuthProvider>(context);
    String pig =
        '<svg t="1694836519843" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20186" width="32" height="32"><path d="M920.936 486.583c-26.082 0.38-30.125-14.048-40.838-32.262-23.809-40.478-48.503-83.221-82.698-114.142-48.816-44.153-52.667-40.008-33.706-103.09 3.839-12.749 10.223-24.966 12.333-37.925 1.933-11.958 4.384-30.438-1.864-35.441-7.691-6.153-27.361-6.194-36.305-0.368-39.45 25.695-79.172 51.926-114.02 83.256-15.288 13.728-24.381 20.283-46.107 18.023-184.344-19.214-345.547 16.982-446.186 196.48-56.425-30.329-65.45-68.683-28.995-108.071 7.609-8.23 7.814-23.32 11.434-35.25-13.069 1.892-29.213-0.47-38.687 6.377C20.45 363.81 29.694 449.02 94.49 488.204c11.925 7.214 18.853 14.593 22.352 23.4 5.119-1.579 10.605-2.695 16.839-2.695 2.859 0 5.2 0.734 7.814 1.103 6.956-3.54 15.11-5.745 24.72-5.745 0.137 0 0.26 0.04 0.396 0.04 18.173-63.148 58.902-119.547 116.075-150.25 95.317-51.191 194.146-63.578 298.133-46.726 32.521 5.275 53.676 3.668 71.808-29.764 14.13-26.049 41.723-44.807 63.326-66.798 2.355 2.144 4.724 4.295 7.078 6.446-4.125 28.641-8.276 57.27-12.36 85.91-3.404 23.898 3.635 39.329 28.518 49.449 56.942 23.155 92.88 67.288 106.466 126.674 8.21 35.876 28.342 49.864 62.36 46.78 29.363-2.661 38.035 11.394 35.679 37.912-1.062 11.918-1.415 24.162 0.054 35.999 4.655 37.449-5.105 57.316-48.952 55.05-15.436-0.797-34.358 15.967-47.412 28.995-33.447 33.393-62.279 71.658-97.291 103.157-22.788 20.501-29.214 39.79-18.378 66.458 21.195 52.177-28.546 42.268-49.823 55.969-26.449 17.022-38.823 0.517-44.963-23.748-10.345-40.784-36.632-48.223-75.877-44.616-43.33 3.981-87.883 2.362-131.131-2.988-37.87-4.683-63.599 2.531-72.216 42.18-9.447 43.417-33.42 34.923-64.974 23.924-33.786-11.775-46.91-25.905-28.818-60.358 18.132-34.536 10.06-62.286-21.63-86.986-45.821-35.72-71.482-82.881-81.337-132.724-6.806-1.75-12.77-4.58-17.724-8.433-3.063 0.537-6.112 1.103-9.542 1.103-1.689 0-3.173-0.28-4.752-0.43-1.524 7.87-4.669 15.275-9.283 21.727 11.177 52.423 39.872 98.597 84.045 138.108 25.415 22.72 29.254 40.94 16.294 71.243-18.867 44.132-5.65 68.703 40.035 87.108 11.108 4.479 22.365 8.63 33.596 12.81 56.03 20.854 75.905 13.177 97.944-43.86 8.726-22.584 20.024-25.253 41.968-23.095 40.906 4.023 82.548 6.5 123.386 3.322 25.973-2.02 37.326 2.56 46.474 27.974 16.404 45.582 42.063 54.893 88.292 38.3 15.043-5.397 30.112-10.802 44.84-16.996 38.797-16.314 51.851-38.85 38.17-79.137-8.031-23.672 1.62-31.01 17.113-44.738 28.572-25.327 55.989-53.327 77.688-84.528 14.43-20.766 26.095-32.262 52.926-31.909 41.097 0.545 60.155-20.786 61.557-62.217 0.899-26.647 0.75-53.368 0.069-80.022-1.128-44.138-19.26-64.646-63.107-63.999z" fill="#2c2c2c" p-id="20187"></path><path d="M526.26 215.933c-19.971 7.67-32.256 8.223-38.755-19.602-15.42-66.018-72.036-100.15-135.781-86.339-58.42 12.656-94.864 70.26-81.776 134.935 5.462 26.99-6.172 33.045-27.501 35.211-30.077-53.192-20.888-117.443 23.285-165.23 44.322-47.95 116.962-62.556 176.413-35.472 55.946 25.488 89.856 80.088 84.115 136.497zM801.985 523.442c-24.497 19.5-37.096 37.121-52.468 40.018-24.05 4.531-43.387-14.067-39.133-37.525 2.66-14.67 22.273-34.406 36.494-36.45 13.07-1.878 29.105 16.887 55.107 33.957z" fill="#2c2c2c" p-id="20188"></path></svg>';
    String coupon =
        '<svg t="1694836576045" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21525" width="32" height="32"><path d="M812.8 1024 211.2 1024c-51.2 0-96-44.8-96-96L115.2 492.8c0-19.2 12.8-32 32-32 38.4 0 70.4-32 70.4-70.4S185.6 313.6 147.2 313.6C128 313.6 115.2 300.8 115.2 281.6L115.2 96C115.2 44.8 160 0 211.2 0l601.6 0c51.2 0 96 44.8 96 96l0 185.6c0 19.2-12.8 32-32 32-38.4 0-70.4 32-70.4 70.4s32 70.4 70.4 70.4c19.2 0 32 12.8 32 32l0 435.2C908.8 979.2 864 1024 812.8 1024zM179.2 524.8l0 403.2C179.2 947.2 192 960 211.2 960l601.6 0c19.2 0 32-12.8 32-32L844.8 524.8c-57.6-12.8-102.4-70.4-102.4-134.4s44.8-121.6 102.4-134.4L844.8 96C844.8 76.8 832 64 812.8 64L211.2 64C192 64 179.2 76.8 179.2 96L179.2 256c57.6 12.8 102.4 70.4 102.4 134.4S236.8 505.6 179.2 524.8z" fill="#2c2c2c" p-id="21526"></path><path d="M435.2 422.4 390.4 422.4c-19.2 0-32-12.8-32-32s12.8-32 32-32l44.8 0c19.2 0 32 12.8 32 32S454.4 422.4 435.2 422.4z" fill="#2c2c2c" p-id="21527"></path><path d="M633.6 422.4 588.8 422.4c-19.2 0-32-12.8-32-32s12.8-32 32-32l44.8 0c19.2 0 32 12.8 32 32S652.8 422.4 633.6 422.4z" fill="#2c2c2c" p-id="21528"></path></svg>';
    String record =
        '<svg t="1694836634643" class="icon" viewBox="0 0 1035 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="22603" width="32" height="32"><path d="M833.161206 82.125397H763.444285V59.235435c0-24.605317-19.949354-44.554671-44.554671-44.554671H316.081974c-24.605317 0-44.554671 19.949354-44.554671 44.554671v22.889962h-69.716921c-56.651264 0-102.731932 46.091807-102.731933 102.731932v734.428056c0 56.651264 46.091807 102.731932 102.731933 102.731932h631.350824c56.651264 0 102.731932-46.091807 102.731932-102.731932V184.857329c0-56.651264-46.091807-102.731932-102.731932-102.731932zM360.636644 103.790106H674.334943v30.330592H360.636644V103.790106z m486.147153 815.495279c0 7.518601-6.115129 13.622591-13.622591 13.62259H201.810382c-7.518601 0-13.622591-6.115129-13.622591-13.62259V184.857329c0-7.518601 6.115129-13.622591 13.622591-13.62259h69.716921v7.44063c0 24.605317 19.949354 44.554671 44.554671 44.554671H718.889614c24.605317 0 44.554671-19.949354 44.554671-44.554671v-7.44063h69.716921c7.518601 0 13.622591 6.115129 13.622591 13.62259v734.428056z m-70.841927-563.883914c0 24.605317-19.949354 44.554671-44.554671 44.55467H303.584388c-24.605317 0-44.554671-19.949354-44.55467-44.55467s19.949354-44.554671 44.55467-44.554671h427.802811c24.605317 0 44.554671 19.949354 44.554671 44.554671z m0 193.333855c0 24.605317-19.949354 44.554671-44.554671 44.554671H303.584388c-24.605317 0-44.554671-19.949354-44.55467-44.554671s19.949354-44.554671 44.55467-44.554671h427.802811c24.605317 0 44.554671 19.949354 44.554671 44.554671z m0 193.333856c0 24.605317-19.949354 44.554671-44.554671 44.55467H303.584388c-24.605317 0-44.554671-19.949354-44.55467-44.55467s19.949354-44.554671 44.55467-44.554671h427.802811c24.605317 0 44.554671 19.949354 44.554671 44.554671z" p-id="22604" fill="#2c2c2c"></path></svg>';
    String contact =
        '<svg t="1694836678146" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23663" width="32" height="32"><path d="M649.903813 626.301256c-45.25367-35.218106-96.342232-55.420217-140.172483-55.420217-22.194488 0-45.985334 11.274788-67.753103 23.760147-13.888312-18.381649-34.242895-47.042409-44.388976-64.753793-9.42465-16.511046-20.577664-41.72531-28.732391-64.164369 15.890922-6.52767 30.378891-14.619976 40.250726-25.986861 33.235962-38.217417 47.114041-100.348476 38.08541-170.4603-12.983709-100.754728-77.981049-183.992501-147.970076-189.482539-40.11872-3.090385-87.640036 6.974855-121.008005 25.813922-48.883337 27.613918-83.827197 75.286684-101.04944 137.854695-32.005948 116.311029-0.914836 273.522584 83.166141 420.548148 101.212146 176.936805 258.68976 295.819402 391.866922 295.819402 36.468586 0 70.081125-8.550747 99.901291-25.397437 16.379039-9.231245 70.925353-43.250036 85.128843-92.946902C753.86149 783.279497 739.669256 696.178743 649.903813 626.301256zM677.16162 824.324308c-5.703909 19.967774-32.117488 42.3659-55.776328 55.714929-20.344351 11.498892-43.61638 17.324574-69.186755 17.324574-109.762893 0-248.604054-108.716051-337.635787-264.361947-74.880431-130.931005-104.456027-273.837762-77.16752-372.956224 12.891611-46.850028 36.966936-80.512708 71.535243-100.04353 19.926842-11.245112 49.625234-18.311041 75.387991-18.311041 3.415796 0 6.771217 0.132006 10.014074 0.38681 30.337959 2.379187 80.166831 51.892881 90.90336 135.191028 6.557346 50.885947-2.358721 97.44024-23.231097 121.455189-2.134617 2.297322-9.577123 7.42204-35.431977 15.911388-30.856775 10.126638-28.996404 31.253818-26.759457 39.905872 8.083096 31.05018 27.206642 77.756945 43.554982 106.35733 11.915377 20.822235 33.103956 50.163493 39.315424 58.664098 26.810622 36.69269 34.547841 46.290279 52.146661 46.290279 9.780761 0 15.962553-3.730974 27.175943-10.502192 9.018398-5.438872 36.459377-22.001083 47.723931-22.001083 29.758768 0 67.813478 15.789615 101.802594 42.244126C676.755368 726.365252 688.203094 785.709849 677.16162 824.324308z" fill="#2c2c2c" p-id="23664"></path><path d="M540.852118 282.392602c-17.252943 0-31.233352 13.979386-31.233352 31.233352l0 30.470989c0 17.252943 13.979386 31.233352 31.233352 31.233352 17.252943 0 31.233352-13.979386 31.233352-31.233352l0-30.470989C572.08547 296.371988 558.105061 282.392602 540.852118 282.392602z" fill="#2c2c2c" p-id="23665"></path><path d="M784.626167 282.392602c-17.252943 0-31.233352 13.979386-31.233352 31.233352l0 30.470989c0 17.252943 13.979386 31.233352 31.233352 31.233352s31.233352-13.979386 31.233352-31.233352l0-30.470989C815.859519 296.371988 801.880133 282.392602 784.626167 282.392602z" fill="#2c2c2c" p-id="23666"></path><path d="M739.761354 423.835008c-14.304797-9.393951-33.592073-5.398964-43.158962 8.763594-0.132006 0.193405-13.614066 19.754926-34.171264 19.754926-19.98824 0-32.432667-18.117636-33.266661-19.378349-9.181103-14.407128-28.294416-18.819624-42.833551-9.750061-14.650675 9.099239-19.154245 28.355815-10.044774 43.00649 11.214413 18.046005 41.968857 48.588625 86.144986 48.588625 43.962258 0 75.103512-30.318516 86.571704-48.222281C758.224868 452.201056 754.035452 433.240215 739.761354 423.835008z" fill="#2c2c2c" p-id="23667"></path><path d="M586.045413 64.482617c-37.821397 0-75.154677 5.571902-110.962208 16.562211-16.480346 5.063319-25.752524 22.540366-20.690228 39.030945 5.063319 16.470113 22.468734 25.752524 39.030945 20.690228 29.849842-9.17087 61.022819-13.81668 92.621491-13.81668 171.863253 0 311.679625 138.057309 311.679625 307.755246 0 90.191138-39.885406 175.543062-109.427248 234.17646-13.186324 11.122315-14.864546 30.826076-3.751441 44.013423 6.181793 7.329942 15.006785 11.102872 23.902386 11.102872 7.106862 0 14.253632-2.409886 20.110013-7.350408 83.654258-70.52831 131.63197-173.296905 131.63197-281.941324C960.190719 230.56112 792.354176 64.482617 586.045413 64.482617z" fill="#2c2c2c" p-id="23668"></path></svg>';
    String feedback =
        '<svg t="1694836722605" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24726" width="32" height="32"><path d="M681 460c138.071 0 250 111.929 250 250S819.071 960 681 960 431 848.071 431 710s111.929-250 250-250z m52-396c49.706 0 90 40.294 90 90v267.497c0 16.569-13.431 30-30 30-16.569 0-30-13.431-30-30V154c0-16.569-13.431-30-30-30H183c-16.569 0-30 13.431-30 30v686c0 16.569 13.431 30 30 30h246.351c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30H183c-49.706 0-90-40.294-90-90V154c0-49.706 40.294-90 90-90h550z m-52 456c-104.934 0-190 85.066-190 190s85.066 190 190 190 190-85.066 190-190-85.066-190-190-190z m130.366 111.39c10.83 12.538 9.446 31.482-3.092 42.313L654.089 806.888c-12.196 10.535-30.536 9.552-41.536-2.227l-62.192-66.592c-11.31-12.109-10.66-31.093 1.448-42.402 12.11-11.309 31.093-10.66 42.402 1.449l42.495 45.502 132.347-114.32c12.538-10.832 31.482-9.447 42.313 3.091zM425 434c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30H263c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30h162z m228-180c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30H263c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30h390z" fill="#2c2c2c" p-id="24727"></path></svg>';
    String logout =
        '<svg t="1694845994800" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="26213" width="32" height="32"><path d="M833.633836 551.096437 481.955218 551.096437c-16.207124 0-29.359678-13.019525-29.359678-29.322839 0-16.188704 13.057387-29.321816 29.359678-29.321816l359.371834 0-74.718749-74.719772c-11.435447-11.414981-11.473309-29.894867 0.057305-41.424458 11.453866-11.453866 30.124088-11.340279 41.407062-0.038886l109.329011 109.310591c5.555529 1.069355 10.881838 3.703345 15.196097 8.018627 6.681166 6.681166 9.468652 15.691377 8.399297 24.319895 1.069355 8.630564-1.718131 17.640776-8.399297 24.321942-4.314259 4.315282-9.640568 6.987135-15.196097 8.018627l-109.329011 109.309568c-11.281951 11.30037-29.953196 11.413957-41.407062-0.039909-11.530614-11.530614-11.491729-30.009478-0.057305-41.423435L833.633836 551.096437zM745.933425 238.32392l0-97.704253c0-43.2572-35.029818-78.230736-78.230736-78.230736l-508.36931 0c-43.181475 0-78.230736 35.011398-78.230736 78.230736l0 742.759641c0 43.256176 35.011398 78.230736 78.230736 78.230736l508.36931 0c43.181475 0 78.230736-35.050284 78.230736-78.230736l0-97.704253c0-16.188704-13.134135-29.321816-29.341259-29.321816-16.208147 0-29.341259 13.133112-29.341259 29.321816l0 78.230736c0 21.571295-17.600867 39.059598-38.925544 39.059598l-469.635123 0c-21.49557 0-38.943964-17.450441-38.943964-39.059598l0-703.852516c0-21.533432 17.600867-39.019689 38.943964-39.019689l469.635123 0c21.515013 0 38.925544 17.410532 38.925544 39.019689l0 78.269621c0 16.187681 13.133112 29.321816 29.341259 29.321816C732.79929 267.645736 745.933425 254.511601 745.933425 238.32392z" fill="#2c2c2c" p-id="26214"></path></svg>';
    String userIcon =
        '<svg t="1695003680688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4023" width="32" height="32"><path d="M512 447.223c-88.224 0-160-71.776-160-160s71.776-160 160-160c88.225 0 160 71.776 160 160s-71.775 160-160 160z m0-256c-52.935 0-96 43.065-96 96s43.065 96 96 96 96-43.065 96-96-43.065-96-96-96zM454.901 870.594c-96.594 0-184.933-3.802-231.263-49.955C203.308 800.386 193 774.164 193 742.701c0-31.629 10.247-62.812 30.457-92.686 17.978-26.573 42.908-50.741 74.098-71.833C359.256 536.46 437.418 512.53 512 512.53c74.55 0 152.55 23.943 214.002 65.691 31.05 21.094 55.861 45.273 73.746 71.867C819.822 679.937 830 711.096 830 742.701c0 31.552-10.317 57.827-30.664 78.097-50.714 50.521-151.822 50.128-258.88 49.723a7395.45 7395.45 0 0 0-56.914-0.001c-9.605 0.037-19.163 0.074-28.641 0.074zM512 806.447c9.567 0 19.149 0.037 28.701 0.073 49.52 0.191 96.284 0.37 135.808-4.396 38.418-4.633 64.546-13.604 77.659-26.668 5.079-5.06 11.832-13.96 11.832-32.755 0-38.089-27.688-78.744-75.963-111.54C638.933 596.442 574.04 576.53 512 576.53c-126.309 0-255 83.862-255 166.171 0 18.675 6.738 27.547 11.807 32.596 32.045 31.922 128.975 31.55 214.491 31.224 9.556-0.037 19.139-0.074 28.702-0.074z" fill="#2c2c2c" p-id="4024"></path></svg>';

    return Scaffold(
        appBar: PreferredSize(
          preferredSize: Size.fromHeight(maxHeight * 0.05), //Appbar高度
          child: CenterAppbar(
            titleName: '用户中心',
          ),
        ),
        body: Container(
          color: Colors.grey[200],
          child: Column(
            children: [
              Container(
                height: maxHeight * 0.25,
                // color: Colors.red,
                child: Image.network(
                  'https://img2.baidu.com/it/u=1359644096,791156802&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500',
                  height: maxHeight * 0.25,
                  width: maxWidth,
                  fit: BoxFit.cover,
                ),
              ), //背景图片 height 0.25
              Container(
                padding: EdgeInsets.only(top: 16, bottom: 16),
                color: Colors.white,
                child: Center(
                  child: authProvider.isLoggedIn == true
                      ? Container(
                          child: Row(
                            mainAxisAlignment: MainAxisAlignment.center,
                            children: [
                              SvgPicture.string(
                                userIcon, // 替换为您自己的 SVG 字符串
                                width: 24.0, // 设置 SVG 图像的宽度
                                height: 24.0, // 设置 SVG 图像的高度
                              ),
                              Text('未设置昵称'),
                            ],
                          ),
                        )
                      : ElevatedButton(
                          style: ButtonStyle(
                            backgroundColor:
                                MaterialStateProperty.all(Colors.green),
                            padding: //内边距
                                MaterialStateProperty.all(EdgeInsets.only(
                                    top: 14, bottom: 14, left: 24, right: 24)),
                            shadowColor: //阴影
                                MaterialStateProperty.all(Colors.transparent),
                          ),
                          onPressed: () => {
                            Navigator.push(
                              context,
                              PageRouteBuilder(
                                transitionDuration: Duration(milliseconds: 150),
                                pageBuilder: (_, __, ___) => const LoginPage(),
                                transitionsBuilder: (_, animation, __, child) {
                                  return SlideTransition(
                                    position: Tween(
                                      begin: Offset(0.0, 1.0),
                                      end: Offset.zero,
                                    ).animate(animation),
                                    child: child,
                                  );
                                },
                              ),
                            ),
                          },
                          child: Text(
                            '登录/注册',
                            style: TextStyle(fontSize: 12),
                          ),
                        ),
                ),
              ), //登录注册按钮
              Container(
                height: maxHeight * 0.15,
                color: Colors.white,
                child: Column(
                  children: [
                    Container(
                      height: 4,
                      width: maxWidth,
                      color: Colors.grey[400],
                    ), //分割线
                    Expanded(
                      child: Container(
                        color: Colors.white,
                        child: Row(
                          children: [
                            Container(
                              width: maxWidth / 2,
                              // color: Colors.red,
                              child: Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                children: [
                                  SvgPicture.string(
                                    pig, // 替换为您自己的 SVG 字符串
                                    width: 24.0, // 设置 SVG 图像的宽度
                                    height: 24.0, // 设置 SVG 图像的高度
                                  ),
                                  Text('余额(元)'),
                                  Text('0'),
                                ],
                              ),
                            ),
                            Container(
                              width: maxWidth / 2,
                              // color: Colors.red,
                              child: Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                children: [
                                  SvgPicture.string(
                                    coupon, // 替换为您自己的 SVG 字符串
                                    width: 24.0, // 设置 SVG 图像的宽度
                                    height: 24.0, // 设置 SVG 图像的高度
                                  ),
                                  Text('卡券'),
                                  Text('0'),
                                ],
                              ),
                            ),
                          ],
                        ),
                      ),
                    ),
                    Container(
                      alignment: Alignment.bottomCenter,
                      height: 4,
                      width: maxWidth,
                      color: Colors.grey[400],
                    ),
                  ],
                ),
              ), // 余额卡券显示
              Container(
                color: Colors.white,
                child: Column(
                  children: [
                    ListTile(
                      onTap: () => {backPrint('充值记录')},
                      leading: SvgPicture.string(
                        record, // 替换为您自己的 SVG 字符串
                        width: 24.0, // 设置 SVG 图像的宽度
                        height: 24.0, // 设置 SVG 图像的高度
                      ),
                      title: const Text(
                        '充值记录',
                        style: TextStyle(fontSize: 14),
                      ),
                      trailing: const Text(
                        '>',
                        style: TextStyle(fontSize: 24),
                      ),
                    ),
                    ListTile(
                      onTap: () => {backPrint('联系我们')},
                      leading: SvgPicture.string(
                        contact, // 替换为您自己的 SVG 字符串
                        width: 24.0, // 设置 SVG 图像的宽度
                        height: 24.0, // 设置 SVG 图像的高度
                      ),
                      title: const Text(
                        '联系我们',
                        style: TextStyle(fontSize: 14),
                      ),
                      trailing:const Text(
                        '>',
                        style: TextStyle(fontSize: 24),
                      ),
                    ),
                    ListTile(
                      onTap: () => {backPrint('反馈中心')},
                      leading: SvgPicture.string(
                        feedback, // 替换为您自己的 SVG 字符串
                        width: 24.0, // 设置 SVG 图像的宽度
                        height: 24.0, // 设置 SVG 图像的高度
                      ),
                      title: const Text(
                        '反馈中心',
                        style: TextStyle(fontSize: 14),
                      ),
                      trailing: const Text(
                        '>',
                        style: TextStyle(fontSize: 24),
                      ),
                    ),
                    authProvider.isLoggedIn == true
                        ? ListTile(
                            onTap: () => showDialog<String>(
                              context: context,
                              builder: (BuildContext context) => 
                                
                               Dialog(
                                  child: Padding(
                                    padding: EdgeInsets.only(top: 12),
                                    child: Column(
                                    mainAxisSize: MainAxisSize.min,
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: <Widget>[
                                      const Text(
                                        '登出账号',
                                        style: TextStyle(
                                          fontSize: 14,
                                          fontWeight: FontWeight.bold,
                                        ),
                                      ),
                                      const SizedBox(height: 18),
                                      const Text(
                                        '确定要登出?',
                                        style: TextStyle(color: Colors.grey),
                                      ),
                                      const SizedBox(height: 18),
                                      Row(
                                        // mainAxisAlignment: MainAxisAlignment.center,
                                        children: [
                                          Expanded(
                                            // width: 10,
                                            // color: Colors.red,
                                            child: Container(
                                              // padding:const EdgeInsets.only(bottom: 12),
                                              height:42,
                                              decoration: const BoxDecoration(
                                                border: Border(
                                                  top: BorderSide(
                                                    width: 0.5,
                                                    color:Color.fromRGBO(204, 204, 204, 0.5),
                                                  ),
                                                  left: BorderSide(
                                                    width:0.5,
                                                    color:Color.fromRGBO(204, 204, 204, 0.5),
                                                  ),
                                                ),
                                              ),
                                              child: TextButton(
                                                onPressed: () {
                                                  removeToken(authProvider);
                                                  Navigator.pop(context);
                                                },
                                                child: const Text('是'),
                                              ),
                                            ),
                                          ),
                                          Expanded(
                                            child: Container(
                                              height:42,
                                              // padding:const EdgeInsets.only(bottom: 12),
                                              decoration: const BoxDecoration(
                                                border: Border(
                                                  top: BorderSide(
                                                    width: 0.5,
                                                    color:Color.fromRGBO(204, 204, 204, 0.5),
                                                  ),
                                                  left: BorderSide(
                                                    width:0.5,
                                                    color:Color.fromRGBO(204, 204, 204, 0.5),
                                                  ),
                                                ),
                                              ),
                                              child: TextButton(
                                                onPressed: () {
                                                  Navigator.pop(context);
                                                },
                                                child: const Text('否'),
                                              ),
                                            ),
                                          ),
                                        ],
                                      ),
                                    ],
                                  ),
                                  ),
                                ),
                              
                            ),
                            leading: SvgPicture.string(
                              logout, // 替换为您自己的 SVG 字符串
                              width: 24.0, // 设置 SVG 图像的宽度
                              height: 24.0, // 设置 SVG 图像的高度
                            ),
                            title: Text(
                              '退出账号',
                              style: TextStyle(fontSize: 14),
                            ),
                            trailing: Text(
                              '>',
                              style: TextStyle(fontSize: 24),
                            ),
                          )
                        : Container(),
                  ],
                ),
              ), //充值记录，联系我们，反馈中心，退出账号
            ],
          ),
        ));
  }
}

void backPrint(String text) {
  print(text);
}


removeToken(authProvider_) async {
  final SharedPreferences prefs = await SharedPreferences.getInstance();
  final bool userToken = await prefs.remove('userToken');
  if(userToken == false){
    throw 'userToken删除失败，也许是userToken不存在';
  }
  authProvider_.logout();
}